import { getAllDatesForType } from '@/utils/modules/trends-utils';

describe('trend-utils', () => {
  beforeAll(() => {
    jest.spyOn(Date, 'now').mockImplementation(() => 1682632800000); // '2022-04-27'
  });

  describe('getAllDatesForType', () => {
    it('should get all dates for week', () => {
      const result = getAllDatesForType('week');
      expect(result).toMatchInlineSnapshot(`
        [
          "2023-04-23T22:00:00.000Z",
          "2023-04-24T22:00:00.000Z",
          "2023-04-25T22:00:00.000Z",
          "2023-04-26T22:00:00.000Z",
          "2023-04-27T22:00:00.000Z",
        ]
      `);
    });

    it('should get all dates for month', () => {
      const result = getAllDatesForType('month');
      expect(result).toMatchInlineSnapshot(`
        [
          "2023-03-31T22:00:00.000Z",
          "2023-04-01T22:00:00.000Z",
          "2023-04-02T22:00:00.000Z",
          "2023-04-03T22:00:00.000Z",
          "2023-04-04T22:00:00.000Z",
          "2023-04-05T22:00:00.000Z",
          "2023-04-06T22:00:00.000Z",
          "2023-04-07T22:00:00.000Z",
          "2023-04-08T22:00:00.000Z",
          "2023-04-09T22:00:00.000Z",
          "2023-04-10T22:00:00.000Z",
          "2023-04-11T22:00:00.000Z",
          "2023-04-12T22:00:00.000Z",
          "2023-04-13T22:00:00.000Z",
          "2023-04-14T22:00:00.000Z",
          "2023-04-15T22:00:00.000Z",
          "2023-04-16T22:00:00.000Z",
          "2023-04-17T22:00:00.000Z",
          "2023-04-18T22:00:00.000Z",
          "2023-04-19T22:00:00.000Z",
          "2023-04-20T22:00:00.000Z",
          "2023-04-21T22:00:00.000Z",
          "2023-04-22T22:00:00.000Z",
          "2023-04-23T22:00:00.000Z",
          "2023-04-24T22:00:00.000Z",
          "2023-04-25T22:00:00.000Z",
          "2023-04-26T22:00:00.000Z",
          "2023-04-27T22:00:00.000Z",
          "2023-04-28T22:00:00.000Z",
          "2023-04-29T22:00:00.000Z",
        ]
      `);
    });
  });
});
