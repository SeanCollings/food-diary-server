import { getAllDatesForType } from '@/utils/modules/trends-utils';

describe('trend-utils', () => {
  beforeAll(() => {
    jest.spyOn(Date, 'now').mockImplementation(() => 1682632800000); // '2022-04-27'
  });

  describe('getAllDatesForType', () => {
    it('should get all dates for week', () => {
      const result = getAllDatesForType('week');
      expect(result).toMatchInlineSnapshot(`
        [
          "2023-04-24T00:00:00.000Z",
          "2023-04-25T00:00:00.000Z",
          "2023-04-26T00:00:00.000Z",
          "2023-04-27T00:00:00.000Z",
        ]
      `);
    });

    it('should get all dates for month', () => {
      const result = getAllDatesForType('month');
      expect(result).toMatchInlineSnapshot(`
        [
          "2023-04-01T00:00:00.000Z",
          "2023-04-02T00:00:00.000Z",
          "2023-04-03T00:00:00.000Z",
          "2023-04-04T00:00:00.000Z",
          "2023-04-05T00:00:00.000Z",
          "2023-04-06T00:00:00.000Z",
          "2023-04-07T00:00:00.000Z",
          "2023-04-08T00:00:00.000Z",
          "2023-04-09T00:00:00.000Z",
          "2023-04-10T00:00:00.000Z",
          "2023-04-11T00:00:00.000Z",
          "2023-04-12T00:00:00.000Z",
          "2023-04-13T00:00:00.000Z",
          "2023-04-14T00:00:00.000Z",
          "2023-04-15T00:00:00.000Z",
          "2023-04-16T00:00:00.000Z",
          "2023-04-17T00:00:00.000Z",
          "2023-04-18T00:00:00.000Z",
          "2023-04-19T00:00:00.000Z",
          "2023-04-20T00:00:00.000Z",
          "2023-04-21T00:00:00.000Z",
          "2023-04-22T00:00:00.000Z",
          "2023-04-23T00:00:00.000Z",
          "2023-04-24T00:00:00.000Z",
          "2023-04-25T00:00:00.000Z",
          "2023-04-26T00:00:00.000Z",
          "2023-04-27T00:00:00.000Z",
          "2023-04-28T00:00:00.000Z",
          "2023-04-29T00:00:00.000Z",
          "2023-04-30T00:00:00.000Z",
        ]
      `);
    });
  });
});
